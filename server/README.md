# Merobot Backend
The following document contains the information about all the backend setup for `Merobot`.

# Table of Contents
1. [Specific Requirements](#Specific-Requirements)
2. [Installation](#Installation-Instructions)
3. [File Structure](#File-Structure)
4. [Contact](#Contact)

# Specific Requirements
| Serial No. | Requirement Name | Version |
| ----------- | ----------- | ----------- |
| 1 | python | 3.6.13 |
| 2 | tensorflow | 1.x |
| 3 | scipy | 1.5.4 |
| 4 | numpy | 1.19.5 |
| 5 | h5py | 3.1.0 |
| 6 | Flask | 2.0.1 or later |
| 7 | opencv | 4.5.3.56 |
| 8 | Pillow | 8.3.1 |
| 9 | scikit-image | 0.17.2 |

More detailed requirements can be found in the [requirements.txt](https://raw.githubusercontent.com/ammrit2312/Merobot/master/server/api/requirements.txt) file.

# Installation Instructions
Make sure you have the above requirements installed.<br/>
***Some pre-requisites/instructions are required to be taken care of before installation.***

* Make sure you install the correct version of python as mentioned in the table above.
* Make sure you have the correct version of tensorflow as the models support only 1.x version.
* Make sure you have GPU support on the system and have the correct version of CUDA. This is important for the third model to work.
* **Unzip `code.zip` file before running the backend**. This is important for the 3rd model to run.

## Installation

```bash
    cd api

    pip install -r requirements.txt
    
    OR

    pip3 install -r requirements.txt
```
If you have **windows/conda** installed on your system follow this step -
```
    python app.py
```
If you have **macOS/Ubuntu** installed on your system follow this step -
```
    python3 app.py
```
**Note:** *You can alternatively use the Dockerfile to do the installation as well **(Install Docker on your local system first)***.

# File Structure:
## File Structure
```
├── api
│   ├── data
│   ├── rect_pictures
│   ├── masked_pictures
│   ├── white_pictures
│   ├── code.zip
│   ├── app.py
│   ├── helper.py
│   ├── masked_sketch.py
│   ├── rectangles_sketch.py
│   ├── relations.py
│   ├── white_model3.py
│   ├── requirements.txt
├── Dockerfile
├── .gitignore
└── README.md
```

More detailed information about the folders

* api
    * **data:** Contains all the trained data model files that are used.
    * **rect_pictures:** Contains all the bounded box pictures that are generated by the 1st model.
    * **masked_pictures:** Contains all the masked pictures that are generated by the 2nd model.
    * **white_pictures:** Contains all the picture generated by the 3rd model(with white background).
    * **code.zip:** All the files related to 3rd model.(Unzip to use)
    * **app.py:** All the API calls are listed here.
    helper.py:All the helper that required by ***app.py*** is stored here.
    * **rectangles_sketch.py:** All the code regarding the 1st model is stored in this file.
    * **masked_sketch.py:** All the code regarding the 2nd model is stored in this file.
    * **relations.py:** This file contains all the animals and their part details.(This file and data is used at multiple places)
    * **white_model3.py:** As model 3 generates picture with black background thus, we change the color of background to white using this file.

# Contact
| Serial Number | Name | Github Id |
| ----------- | ----------- | ----------- | 
| 1 | Amritesh | [ammrit2312](https://github.com/ammrit2312) | 
| 2 | Mayank Agrawal | [Mayank1403](https://github.com/Mayank1403) | 
